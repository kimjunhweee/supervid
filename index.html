<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supervid</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css" />
    <link rel="stylesheet" href="styles.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <!-- Login Screen -->
<div id="loginScreen" class="login-screen" style="display:none">
        <div class="login-card">
            <div class="login-logo">
                <span class="logo-icon">S</span>
                <span class="login-logo-text">Supervid</span>
            </div>
            <p class="login-desc" data-i18n="login.desc">콘텐츠 관리의 시작, Google 계정으로 로그인하세요</p>
            <div id="googleLoginBtn"></div>
            <button id="guestModeBtn" class="guest-mode-btn" data-i18n="login.guest">로그인 없이 둘러보기</button>
        </div>
    </div>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar" style="display:none">
        <div class="sidebar-logo">
            <span class="logo-icon">S</span>
            <span class="logo-text">Supervid</span>
        </div>
        <ul class="sidebar-menu">
            <li class="menu-item active" data-tab="dashboard">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
                <span data-i18n="nav.home">홈</span>
            </li>
            <li class="menu-item" data-tab="channels">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4-4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
                <span data-i18n="nav.channels">채널 탐색</span>
            </li>
            <li class="menu-item" data-tab="discover">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                <span data-i18n="nav.discover">콘텐츠 탐색</span>
            </li>
            <li class="menu-item" data-tab="kanban">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="5" height="18" rx="1"/><rect x="10" y="3" width="5" height="12" rx="1"/><rect x="17" y="3" width="5" height="15" rx="1"/></svg>
                <span data-i18n="nav.content">콘텐츠 관리</span>
            </li>
            <li class="menu-item" data-tab="references">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2z"/></svg>
                <span data-i18n="nav.references">레퍼런스</span>
            </li>
            <li class="menu-item" data-tab="calendar">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                <span data-i18n="nav.calendar">캘린더</span>
            </li>
            <li class="menu-item lab-toggle" id="labToggle">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 3h6v4l4 8H5l4-8V3z"/><line x1="9" y1="3" x2="15" y2="3"/><path d="M5 15h14v2a4 4 0 01-4 4H9a4 4 0 01-4-4v-2z"/></svg>
                <span data-i18n="nav.lab">실험실</span>
                <svg class="lab-chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </li>
            <div class="lab-submenu" id="labSubmenu">
                <li class="menu-item" data-tab="ideas">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18h6"/><path d="M10 22h4"/><path d="M12 2a7 7 0 00-4 12.7V17h8v-2.3A7 7 0 0012 2z"/></svg>
                    <span data-i18n="nav.ideas">아이디어 찾기</span>
                </li>
                <li class="menu-item" data-tab="addetect">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    <span data-i18n="nav.addetect">광고 탐지</span>
                </li>
                <li class="menu-item" data-tab="outliers">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
                    </svg>
                    <span data-i18n="nav.outliers">아웃라이어</span>
                </li>
            </div>
        </ul>
        <div class="sidebar-footer">
            <a class="sidebar-yt-link" id="sidebarYtLink" href="#" target="_blank" rel="noopener" style="display:none">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M23.5 6.2a3 3 0 00-2.1-2.1C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.4.6A3 3 0 00.5 6.2 31.3 31.3 0 000 12a31.3 31.3 0 00.5 5.8 3 3 0 002.1 2.1c1.9.6 9.4.6 9.4.6s7.5 0 9.4-.6a3 3 0 002.1-2.1A31.3 31.3 0 0024 12a31.3 31.3 0 00-.5-5.8zM9.6 15.6V8.4l6.3 3.6-6.3 3.6z"/></svg>
                <span data-i18n="nav.myChannel">내 채널</span>
            </a>
            <a class="sidebar-yt-link" id="sidebarStudioLink" href="#" target="_blank" rel="noopener" style="display:none">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
                <span data-i18n="nav.studio">YouTube Studio</span>
            </a>

            <div class="nav-user" id="navUser" style="display:none">
                <button class="nav-user-trigger" id="navUserTrigger">
                    <img class="nav-user-avatar" id="userAvatar" src="" alt="">
                    <div class="nav-user-info">
                        <span class="nav-user-name" id="userName"></span>
                        <span class="nav-user-email" id="userEmail"></span>
                    </div>
                    <svg class="nav-user-chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="7,15 12,20 17,15"/><polyline points="7,9 12,4 17,9"/></svg>
                </button>
                <!-- Dropdown -->
                <div class="nav-user-dropdown" id="navUserDropdown">
                    <div class="nav-user-dropdown-header">
                        <img class="nav-user-avatar" id="dropdownAvatar" src="" alt="">
                        <div class="nav-user-info">
                            <span class="nav-user-name" id="dropdownName"></span>
                            <span class="nav-user-email" id="dropdownEmail"></span>
                        </div>
                    </div>
                    <div class="nav-user-dropdown-sep"></div>
                    <button class="nav-user-dropdown-item" id="myPageBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                        <span data-i18n="nav.mypage">마이페이지</span>
                    </button>
                    <button class="nav-user-dropdown-item" id="logoutBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16,17 21,12 16,7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                        <span data-i18n="nav.logout">로그아웃</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content" id="mainContent" style="display:none">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="sidebar-trigger" id="sidebarToggle">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 3v18"/></svg>
                </button>
                <div class="header-separator"></div>
                <div>
                    <h1 id="pageTitle">홈</h1>
                    <p id="pageDesc">콘텐츠 현황을 한눈에 확인하세요</p>
                </div>
            </div>
            <div class="header-right">
                <button class="header-add-btn" id="headerAddBtn">+ <span data-i18n="header.newContent">새 콘텐츠</span></button>
                <button class="theme-toggle" id="themeToggle">
                    <svg class="theme-icon-sun" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
                    <svg class="theme-icon-moon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
                </button>
                <span class="today-date" id="todayDate"></span>
            </div>
        </header>

        <!-- Dashboard Tab -->
        <section class="tab-content active" id="tab-dashboard">
            <!-- 웰컴 문구 -->
            <div class="welcome-greeting" id="welcomeGreeting">
                <img class="welcome-avatar" id="welcomeAvatar" src="" alt="" style="display:none">
                <div class="welcome-text">
                    <h2 class="welcome-title" id="welcomeTitle"></h2>
                    <p class="welcome-message" id="welcomeMessage"></p>
                </div>
            </div>

            <div class="cta-card" id="ctaCard">
                <div class="cta-card-body">
                    <h3 class="cta-card-title" data-i18n="dash.ctaTitle">콘텐츠를 만들고 한 곳에서 관리하세요</h3>
                    <p class="cta-card-desc" data-i18n="dash.ctaDesc">아이디어부터 업로드까지, 기획 · 스크립트 · 촬영 · 편집 일정을 체계적으로 관리할 수 있습니다.</p>
                    <ul class="cta-card-features">
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                            <span data-i18n="dash.ctaFeature1">칸반 보드로 콘텐츠 상태를 한눈에 파악</span>
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                            <span data-i18n="dash.ctaFeature2">캘린더로 업로드 일정 관리</span>
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                            <span data-i18n="dash.ctaFeature3">스크립트 작성부터 업로드 체크리스트까지</span>
                        </li>
                    </ul>
                    <div class="cta-card-actions">
                        <button class="btn btn-primary cta-card-btn" id="welcomeNewContent" data-i18n="dash.ctaBtn">콘텐츠 만들기</button>
                    </div>
                </div>
                <div class="cta-card-deco">
                    <div class="cta-card-deco-bars">
                        <div class="cta-deco-bar" style="height:40%"></div>
                        <div class="cta-deco-bar" style="height:60%"></div>
                        <div class="cta-deco-bar" style="height:80%"></div>
                        <div class="cta-deco-bar" style="height:50%"></div>
                        <div class="cta-deco-bar" style="height:95%"></div>
                    </div>
                </div>
            </div>

            <!-- 내 채널 핵심 지표 -->
            <div class="my-channel-stats" id="myChannelStats">
                <div class="my-channel-stat-row">
                    <div class="my-channel-stat-card">
                        <span class="my-channel-stat-label">SUBSCRIBERS</span>
                        <span class="my-channel-stat-number" id="myChSubscribers">-</span>
                        <div class="my-channel-progress">
                            <div class="my-channel-progress-bar"><div class="my-channel-progress-fill" id="myChSubsProgress"></div></div>
                            <div class="my-channel-milestone">
                                <span id="myChSubsMin">0</span>
                                <span id="myChSubsMax">0</span>
                            </div>
                        </div>
                    </div>
                    <div class="my-channel-stat-card">
                        <span class="my-channel-stat-label">VIEWS</span>
                        <span class="my-channel-stat-number" id="myChTotalViews">-</span>
                        <div class="my-channel-progress">
                            <div class="my-channel-progress-bar"><div class="my-channel-progress-fill" id="myChViewsProgress"></div></div>
                            <div class="my-channel-milestone">
                                <span id="myChViewsMin">0</span>
                                <span id="myChViewsMax">0</span>
                            </div>
                        </div>
                    </div>
                    <div class="my-channel-stat-card">
                        <span class="my-channel-stat-label">VIDEOS</span>
                        <span class="my-channel-stat-number" id="myChVideoCount">-</span>
                        <div class="my-channel-progress">
                            <div class="my-channel-progress-bar"><div class="my-channel-progress-fill" id="myChVideosProgress"></div></div>
                            <div class="my-channel-milestone">
                                <span id="myChVideosMin">0</span>
                                <span id="myChVideosMax">0</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="last-upload-banner" id="lastUploadBanner" style="display:none">
                    <div class="last-upload-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12,6 12,12 16,14"/></svg>
                    </div>
                    <div class="last-upload-text">
                        <span class="last-upload-days" id="lastUploadDays">마지막 업로드로부터 +0일</span>
                        <span class="last-upload-sub" id="lastUploadSub">꾸준한 업로드가 성장의 핵심이에요</span>
                    </div>
                    <button class="btn btn-secondary last-upload-btn" id="lastUploadNewBtn">콘텐츠 만들기</button>
                </div>
                <div class="goal-dashboard-grid">
                    <!-- Monthly Goal Ring -->
                    <div class="goal-card">
                        <div class="goal-card-header">
                            <span class="goal-card-label" data-i18n="goal.monthly">월간 목표</span>
                            <button class="upload-goal-edit-btn" id="uploadGoalEditBtn" title="목표 설정" data-i18n-title="dash.goalEdit">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                            </button>
                        </div>
                        <div class="goal-ring-wrap">
                            <svg class="goal-ring-svg" viewBox="0 0 80 80">
                                <circle class="goal-ring-bg" cx="40" cy="40" r="32" />
                                <circle class="goal-ring-fill" id="goalRingMonthly" cx="40" cy="40" r="32" />
                            </svg>
                            <div class="goal-ring-text">
                                <span class="goal-ring-current" id="myChMonthUploads">0</span>
                                <span class="goal-ring-target">/ <span id="myChMonthGoal">4</span></span>
                            </div>
                        </div>
                    </div>
                    <!-- Weekly Goal Ring -->
                    <div class="goal-card">
                        <div class="goal-card-header">
                            <span class="goal-card-label" data-i18n="goal.weekly">주간 목표</span>
                        </div>
                        <div class="goal-ring-wrap">
                            <svg class="goal-ring-svg" viewBox="0 0 80 80">
                                <circle class="goal-ring-bg" cx="40" cy="40" r="32" />
                                <circle class="goal-ring-fill goal-ring-fill-weekly" id="goalRingWeekly" cx="40" cy="40" r="32" />
                            </svg>
                            <div class="goal-ring-text">
                                <span class="goal-ring-current" id="myChWeekUploads">0</span>
                                <span class="goal-ring-target">/ <span id="myChWeekGoal">1</span></span>
                            </div>
                        </div>
                    </div>
                    <!-- Upload Streak (hidden) -->
                    <!-- <div class="goal-card">
                        <div class="goal-card-header">
                            <span class="goal-card-label" data-i18n="goal.streak">업로드 스트릭</span>
                        </div>
                        <div class="goal-streak-body">
                            <span class="goal-streak-icon">🔥</span>
                            <span class="goal-streak-number" id="goalStreakCurrent">0</span>
                            <span class="goal-streak-unit" id="goalStreakLabel"></span>
                        </div>
                        <span class="goal-streak-best" id="goalStreakBest"></span>
                    </div> -->
                    <!-- Remaining Pace (hidden) -->
                    <!-- <div class="goal-card">
                        <div class="goal-card-header">
                            <span class="goal-card-label" data-i18n="goal.pace">남은 페이스</span>
                        </div>
                        <div class="goal-pace-body" id="goalPaceBody">
                            <span class="goal-pace-info" id="goalPaceInfo"></span>
                            <span class="goal-pace-badge" id="goalPaceBadge"></span>
                        </div>
                    </div> -->
                </div>
            </div>
            <div class="my-channel-empty" id="myChannelEmpty" style="display:none">
                <span data-i18n="dash.channelEmpty">채널을 연동하면 구독자·조회수를 확인할 수 있습니다</span>
                <button class="btn btn-sm btn-primary" id="myChConnectBtn" data-i18n="dash.channelConnect">채널 연동</button>
            </div>

            <div class="card chart-card">
                <div class="chart-card-header">
                    <div>
                        <h3 data-i18n="dash.chartTitle">누적 업로드</h3>
                        <p data-i18n="dash.chartDesc">롱폼 · 숏폼 누적 업로드 추이</p>
                    </div>
                    <select id="chartRange" class="chart-range-select">
                        <option value="1" data-i18n="dash.chartMonth1">최근 1개월</option>
                        <option value="3" selected data-i18n="dash.chartMonth3">최근 3개월</option>
                        <option value="6" data-i18n="dash.chartMonth6">최근 6개월</option>
                        <option value="12" data-i18n="dash.chartYear1">최근 1년</option>
                    </select>
                </div>
                <div class="chart-canvas-wrap">
                    <canvas id="monthlyChart"></canvas>
                    <div class="chart-tooltip" id="chartTooltip"></div>
                </div>
                <div class="chart-legend">
                    <span class="chart-legend-item"><span class="chart-legend-dot" id="legendDot1"></span><span data-i18n="dash.longForm">롱폼</span></span>
                    <span class="chart-legend-item"><span class="chart-legend-dot" id="legendDot2"></span><span data-i18n="dash.shortForm">숏폼</span></span>
                </div>
            </div>

            <!-- Hot Videos TOP 10 -->
            <div class="card" id="dashHotVideosCard">
                <div class="card-header" style="display:flex;align-items:center;justify-content:space-between;">
                    <h3 data-i18n="dash.hotVideos">오늘의 핫 비디오</h3>
                    <span class="dash-hot-badge">TOP 10</span>
                </div>
                <div class="dash-hot-list" id="dashHotList">
                    <div style="padding:24px;text-align:center;color:var(--text-muted);font-size:13px;" data-i18n="dash.hotLoading">로딩 중...</div>
                </div>
            </div>

            <!-- YouTube Integration -->
            <div class="youtube-section" id="youtubeSection">
                <div class="youtube-header">
                    <h3>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22.54 6.42a2.78 2.78 0 00-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 00-1.94 2A29 29 0 001 11.75a29 29 0 00.46 5.33A2.78 2.78 0 003.4 19.1c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 001.94-2 29 29 0 00.46-5.25 29 29 0 00-.46-5.43z"/><polygon points="9.75,15.02 15.5,11.75 9.75,8.48"/></svg>
                        <span data-i18n="yt.title">YouTube 채널</span>
                    </h3>
                    <div class="yt-header-actions">
                        <button class="btn btn-sm btn-secondary" id="ytRefreshBtn" style="display:none" data-i18n="yt.refresh">새로고침</button>
                        <button class="btn btn-sm btn-primary" id="ytConnectBtn" data-i18n="yt.connect">채널 연동</button>
                    </div>
                </div>

                <!-- 연동 전 -->
                <div class="yt-empty" id="ytEmpty">
                    <p data-i18n="yt.emptyDesc">YouTube 채널을 연동하면 구독자, 조회수 등을 대시보드에서 확인할 수 있습니다.</p>
                </div>

                <!-- 연동 후: 채널 통계 -->
                <div class="yt-stats-grid" id="ytStats" style="display:none">
                    <div class="stat-card stat-card-minimal">
                        <span class="stat-label" data-i18n="yt.subscribers">구독자</span>
                        <span class="stat-number" id="ytSubscribers">-</span>
                    </div>
                    <div class="stat-card stat-card-minimal">
                        <span class="stat-label" data-i18n="yt.totalViews">총 조회수</span>
                        <span class="stat-number" id="ytTotalViews">-</span>
                    </div>
                    <div class="stat-card stat-card-minimal">
                        <span class="stat-label" data-i18n="yt.totalVideos">총 영상</span>
                        <span class="stat-number" id="ytVideoCount">-</span>
                    </div>
                </div>

                <!-- 연동 후: 최근 영상 -->
                <div class="card yt-videos-card" id="ytVideosCard" style="display:none">
                    <div class="card-header">
                        <h3 data-i18n="yt.recentVideos">최근 영상 성과</h3>
                    </div>
                    <div class="card-body" id="ytVideosList">
                    </div>
                </div>
            </div>
        </section>

        <!-- Kanban Tab -->
        <section class="tab-content" id="tab-kanban">
            <div class="kanban-toolbar">
                <button class="btn btn-primary" id="kanbanAddBtn" data-i18n="kanban.add">+ 새 콘텐츠</button>
            </div>
            <div class="kanban-board" id="kanbanBoard">
                <div class="kanban-column" data-status="idea">
                    <div class="kanban-col-header"><span class="kanban-col-dot idea"></span><span data-i18n="status.idea">아이디어</span><span class="kanban-col-count" data-count="idea">0</span></div>
                    <div class="kanban-col-body" data-status="idea"></div>
                </div>
                <div class="kanban-column" data-status="scripting">
                    <div class="kanban-col-header"><span class="kanban-col-dot scripting"></span><span data-i18n="status.scripting">스크립트</span><span class="kanban-col-count" data-count="scripting">0</span></div>
                    <div class="kanban-col-body" data-status="scripting"></div>
                </div>
                <div class="kanban-column" data-status="filming">
                    <div class="kanban-col-header"><span class="kanban-col-dot filming"></span><span data-i18n="status.filming">촬영</span><span class="kanban-col-count" data-count="filming">0</span></div>
                    <div class="kanban-col-body" data-status="filming"></div>
                </div>
                <div class="kanban-column" data-status="editing">
                    <div class="kanban-col-header"><span class="kanban-col-dot editing"></span><span data-i18n="status.editing">편집</span><span class="kanban-col-count" data-count="editing">0</span></div>
                    <div class="kanban-col-body" data-status="editing"></div>
                </div>
                <div class="kanban-column" data-status="scheduled">
                    <div class="kanban-col-header"><span class="kanban-col-dot scheduled"></span><span data-i18n="status.scheduled">예약</span><span class="kanban-col-count" data-count="scheduled">0</span></div>
                    <div class="kanban-col-body" data-status="scheduled"></div>
                </div>
                <div class="kanban-column" data-status="published">
                    <div class="kanban-col-header"><span class="kanban-col-dot published"></span><span data-i18n="status.published">게시완료</span><span class="kanban-col-count" data-count="published">0</span></div>
                    <div class="kanban-col-body" data-status="published"></div>
                </div>
            </div>
        </section>

        <!-- Calendar Tab -->
        <section class="tab-content" id="tab-calendar">
            <div class="calendar-header">
                <button class="cal-nav-btn" id="prevMonth">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15,18 9,12 15,6"/></svg>
                </button>
                <h2 id="calendarTitle">2026년 2월</h2>
                <button class="cal-nav-btn" id="nextMonth">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9,18 15,12 9,6"/></svg>
                </button>
                <button class="btn btn-primary" id="addContentBtn" data-i18n="cal.addContent">+ 콘텐츠 추가</button>
            </div>
            <div class="calendar-wrap">
                <div class="calendar-grid">
                    <div class="cal-day-header" data-i18n="cal.sun">일</div>
                    <div class="cal-day-header" data-i18n="cal.mon">월</div>
                    <div class="cal-day-header" data-i18n="cal.tue">화</div>
                    <div class="cal-day-header" data-i18n="cal.wed">수</div>
                    <div class="cal-day-header" data-i18n="cal.thu">목</div>
                    <div class="cal-day-header" data-i18n="cal.fri">금</div>
                    <div class="cal-day-header" data-i18n="cal.sat">토</div>
                </div>
                <div class="calendar-days" id="calendarDays"></div>
            </div>
        </section>

        <!-- Discover Tab -->
        <section class="tab-content" id="tab-discover">
            <div class="discover-inline-form">
                <div class="discover-inline-main-row">
                    <input type="text" id="searchKeyword" class="discover-inline-input" placeholder="검색어를 입력하세요" data-i18n-placeholder="discover.keywordPlaceholder">
                    <button class="btn btn-primary" id="searchSubmitBtn" data-i18n="discover.submit">검색</button>
                    <button class="btn btn-secondary" id="searchResetBtn" data-i18n="discover.reset">초기화</button>
                </div>
                <div class="discover-inline-filter-row">
                    <select id="searchDuration" class="discover-inline-select">
                        <option value="" data-i18n="discover.all">전체</option>
                        <option value="short" data-i18n="discover.shorts">숏츠 (4분 이하)</option>
                        <option value="medium" data-i18n="discover.medium">롱폼 (4~20분)</option>
                        <option value="long" data-i18n="discover.longPlus">롱폼+ (20분 이상)</option>
                    </select>
                    <select id="searchOrder" class="discover-inline-select">
                        <option value="viewCount" data-i18n="discover.sortViews">조회수순</option>
                        <option value="relevance" data-i18n="discover.sortRelevance">관련도순</option>
                        <option value="date" data-i18n="discover.sortDate">최신순</option>
                        <option value="performance" data-i18n="discover.sortPerformance">성과순</option>
                        <option value="velocity" data-i18n="discover.sortVelocity">폭발력순</option>
                    </select>
                    <select id="searchSubMin" class="discover-inline-select">
                        <option value="0">구독자 최소 없음</option>
                        <option value="1000">구독자 1천 이상</option>
                        <option value="5000">구독자 5천 이상</option>
                        <option value="10000">구독자 1만 이상</option>
                        <option value="50000">구독자 5만 이상</option>
                        <option value="100000">구독자 10만 이상</option>
                        <option value="500000">구독자 50만 이상</option>
                        <option value="1000000">구독자 100만 이상</option>
                    </select>
                    <span class="discover-inline-sep">~</span>
                    <select id="searchSubMax" class="discover-inline-select">
                        <option value="0">구독자 최대 없음</option>
                        <option value="1000">구독자 1천 이하</option>
                        <option value="5000">구독자 5천 이하</option>
                        <option value="10000">구독자 1만 이하</option>
                        <option value="50000">구독자 5만 이하</option>
                        <option value="100000">구독자 10만 이하</option>
                        <option value="500000">구독자 50만 이하</option>
                        <option value="1000000">구독자 100만 이하</option>
                    </select>
                    <select id="searchViewMin" class="discover-inline-select">
                        <option value="0">조회수 최소 없음</option>
                        <option value="1000">조회수 1천 이상</option>
                        <option value="10000">조회수 1만 이상</option>
                        <option value="50000">조회수 5만 이상</option>
                        <option value="100000">조회수 10만 이상</option>
                        <option value="500000">조회수 50만 이상</option>
                        <option value="1000000">조회수 100만 이상</option>
                    </select>
                    <span class="discover-inline-sep">~</span>
                    <select id="searchViewMax" class="discover-inline-select">
                        <option value="0">조회수 최대 없음</option>
                        <option value="10000">조회수 1만 이하</option>
                        <option value="50000">조회수 5만 이하</option>
                        <option value="100000">조회수 10만 이하</option>
                        <option value="500000">조회수 50만 이하</option>
                        <option value="1000000">조회수 100만 이하</option>
                        <option value="10000000">조회수 1000만 이하</option>
                    </select>
                </div>
            </div>
            <div class="discover-header">
                <span class="discover-result-info" id="discoverResultInfo"></span>
            </div>
            <div class="discover-active-filters" id="discoverActiveFilters"></div>
            <div class="discover-grid" id="discoverGrid">
                <div class="discover-empty" id="discoverEmpty">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="color:var(--text-muted);margin-bottom:12px"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                    <p data-i18n="discover.emptyPrompt">검색 버튼을 눌러 인기 영상을 탐색하세요</p>
                </div>
            </div>
        </section>

        <!-- Channels Tab -->
        <section class="tab-content" id="tab-channels">
            <div class="discover-inline-form">
                <div class="discover-inline-main-row">
                    <input type="text" id="channelSearchKeyword" class="discover-inline-input" placeholder="채널명 또는 키워드를 입력하세요" data-i18n-placeholder="channel.keywordPlaceholder">
                    <button class="btn btn-primary" id="channelSearchSubmitBtn" data-i18n="channel.submit">검색</button>
                    <button class="btn btn-secondary" id="channelSearchResetBtn" data-i18n="channel.reset">초기화</button>
                </div>
                <div class="discover-inline-filter-row">
                    <select id="channelSubMin" class="discover-inline-select">
                        <option value="0">최소 없음</option>
                        <option value="100">100 이상</option>
                        <option value="1000">1천 이상</option>
                        <option value="5000">5천 이상</option>
                        <option value="10000">1만 이상</option>
                        <option value="50000">5만 이상</option>
                        <option value="100000">10만 이상</option>
                        <option value="1000000">100만 이상</option>
                    </select>
                    <span class="discover-inline-sep">~</span>
                    <select id="channelSubMax" class="discover-inline-select">
                        <option value="0">최대 없음</option>
                        <option value="1000">1천 이하</option>
                        <option value="5000">5천 이하</option>
                        <option value="10000">1만 이하</option>
                        <option value="50000">5만 이하</option>
                        <option value="100000">10만 이하</option>
                        <option value="500000">50만 이하</option>
                        <option value="1000000">100만 이하</option>
                    </select>
                </div>
                <span class="discover-result-info" id="channelResultInfo"></span>
            </div>
            <div class="ch-saved-section" id="savedChannelsSection" style="display:none">
                <div class="ch-saved-header">
                    <h4>저장된 채널</h4>
                    <button class="btn btn-primary btn-sm" id="channelCompareBtn" style="display:none">비교하기</button>
                </div>
                <div class="ch-saved-list" id="savedChannelsList"></div>
            </div>
            <div class="ch-result-sort" id="channelSortBar" style="display:none"></div>
            <div class="channel-grid" id="channelGrid">
                <div class="discover-empty">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="color:var(--text-muted);margin-bottom:12px"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4-4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
                    <p data-i18n="channel.emptyPrompt">키워드를 입력하여 유튜브 채널을 탐색하세요</p>
                </div>
            </div>
        </section>

        <!-- Ideas Tab -->
        <section class="tab-content" id="tab-ideas">
            <div class="ideas-layout">
                <div class="ideas-section">
                    <div class="ideas-section-header">
                        <h3 data-i18n="ideas.trendTitle">트렌드 영상</h3>
                        <div class="ideas-filters">
                            <select id="ideasDurationSelect" class="ideas-category-select">
                                <option value="" data-i18n="ideas.allDuration">전체</option>
                                <option value="short" data-i18n="ideas.shortDuration">숏츠</option>
                                <option value="long" data-i18n="ideas.longDuration">롱폼</option>
                            </select>
                            <select id="ideasCategorySelect" class="ideas-category-select">
                                <option value="" data-i18n="ideas.category">카테고리</option>
                                <option value="10" data-i18n="ideas.catMusic">음악</option>
                                <option value="20" data-i18n="ideas.catGaming">게임</option>
                                <option value="24" data-i18n="ideas.catEntertainment">엔터테인먼트</option>
                                <option value="27" data-i18n="ideas.catEducation">교육</option>
                                <option value="28" data-i18n="ideas.catScience">과학기술</option>
                                <option value="26" data-i18n="ideas.catHowto">하우투</option>
                                <option value="25" data-i18n="ideas.catNews">뉴스</option>
                            </select>
                        </div>
                    </div>
                    <div class="ideas-trending-grid" id="ideasTrendingGrid">
                        <div class="discover-empty">
                            <p data-i18n="ideas.trendLoading">트렌드 영상을 불러오는 중...</p>
                        </div>
                    </div>
                </div>
                <div class="ideas-section">
                    <div class="ideas-section-header">
                        <h3 data-i18n="ideas.keywordTitle">키워드 분석</h3>
                    </div>
                    <div class="ideas-keyword-input-wrap">
                        <input type="text" id="ideasKeywordInput" placeholder="키워드를 입력하세요" class="ideas-keyword-input" data-i18n-placeholder="ideas.keywordPlaceholder">
                        <select id="ideasKeywordDuration" class="ideas-category-select">
                            <option value="" data-i18n="ideas.allDuration">전체</option>
                            <option value="short" data-i18n="ideas.shortDuration">숏츠</option>
                            <option value="medium" data-i18n="ideas.longDuration">롱폼</option>
                        </select>
                        <button class="btn btn-primary" id="ideasAnalyzeBtn" data-i18n="ideas.analyze">분석</button>
                    </div>
                    <div class="ideas-keyword-chips" id="ideasKeywordChips"></div>
                    <div class="ideas-keyword-videos" id="ideasKeywordVideos"></div>
                </div>
            </div>
        </section>

        <!-- Ad Detect Tab -->
        <section class="tab-content" id="tab-addetect">
            <div class="addetect-search-bar">
                <input type="text" id="addetectKeyword" class="addetect-input" placeholder="광고주/브랜드명 입력 (예: 현대자동차, 삼성전자, 쿠팡)" data-i18n-placeholder="ad.placeholder">
                <select id="addetectStrategy" class="addetect-select">
                    <option value="combined" data-i18n="ad.strategyCombined">통합 검색 (추천)</option>
                    <option value="ad" data-i18n="ad.strategyAd">광고 키워드 포함</option>
                    <option value="ppl" data-i18n="ad.strategyPPL">PPL/협찬 키워드</option>
                    <option value="broad" data-i18n="ad.strategyBroad">브랜드명만</option>
                </select>
                <button class="btn btn-primary" id="addetectSearchBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                    <span data-i18n="ad.searchBtn">광고 검색</span>
                </button>
            </div>
            <div class="addetect-summary" id="addetectSummary" style="display:none">
                <div class="addetect-summary-stat">
                    <span class="addetect-summary-number ad-highlight" id="adDetectedCount">0</span>
                    <span class="addetect-summary-label" data-i18n="ad.detected">탐지된 광고</span>
                </div>
                <div class="addetect-summary-stat">
                    <span class="addetect-summary-number" id="adChannelCount">0</span>
                    <span class="addetect-summary-label" data-i18n="ad.collabChannels">협업 채널</span>
                </div>
                <div class="addetect-summary-stat">
                    <span class="addetect-summary-number" id="adTotalCount">0</span>
                    <span class="addetect-summary-label" data-i18n="ad.searchedVideos">검색 영상</span>
                </div>
                <div class="addetect-summary-stat">
                    <span class="addetect-summary-number" id="adRatio">0%</span>
                    <span class="addetect-summary-label" data-i18n="ad.adRatio">광고 비율</span>
                </div>
            </div>
            <div class="addetect-channels-section" id="addetectChannelsSection" style="display:none">
                <div class="addetect-channels-header">
                    <h4 data-i18n="ad.channelSection">협업 채널</h4>
                    <span class="addetect-channels-desc" data-i18n="ad.channelDesc">이 브랜드와 광고를 진행한 채널 목록</span>
                </div>
                <div class="addetect-channels-list" id="addetectChannelsList"></div>
            </div>
            <div class="addetect-filter-row" id="addetectFilterRow" style="display:none">
                <button class="addetect-filter-btn" data-filter="all" data-i18n="ad.filterAll">전체</button>
                <button class="addetect-filter-btn active" data-filter="ad" data-i18n="ad.filterAd">광고만</button>
                <button class="addetect-filter-btn" data-filter="clean" data-i18n="ad.filterClean">비광고</button>
            </div>
            <div class="addetect-brands" id="addetectBrands"></div>
            <div class="addetect-grid" id="addetectGrid">
                <div class="discover-empty">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="color:var(--text-muted);margin-bottom:12px">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    <p data-i18n="ad.emptyDesc">브랜드명을 검색하면 해당 브랜드의 유튜브 광고 캠페인을 모아볼 수 있습니다</p>
                    <p style="font-size:12px;color:var(--text-muted);margin-top:4px" data-i18n="ad.emptyExample">예: "현대자동차" → 현대자동차가 진행한 유튜브 광고/협찬 영상 탐지</p>
                </div>
            </div>
        </section>

        <!-- Outliers Tab -->
        <section class="tab-content" id="tab-outliers">
            <div class="outlier-search-bar">
                <input type="text" id="outlierKeyword" class="outlier-input" placeholder="키워드 입력 (예: 자취 요리, 주식 투자, 운동 루틴)" data-i18n-placeholder="outlier.placeholder">
                <select id="outlierMinScore" class="outlier-select">
                    <option value="2" data-i18n="outlier.above2x">2x 이상</option>
                    <option value="3" data-i18n="outlier.above3x">3x 이상</option>
                    <option value="5" data-i18n="outlier.above5x">5x 이상</option>
                    <option value="10" data-i18n="outlier.above10x">10x 이상</option>
                    <option value="20" data-i18n="outlier.above20x">20x 이상</option>
                </select>
                <button class="btn btn-primary" id="outlierSearchBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/></svg>
                    <span data-i18n="outlier.searchBtn">아웃라이어 찾기</span>
                </button>
            </div>
            <div class="outlier-summary" id="outlierSummary" style="display:none">
                <div class="outlier-summary-stat">
                    <span class="outlier-summary-number" id="outlierFoundCount">0</span>
                    <span class="outlier-summary-label" data-i18n="outlier.found">발견된 아웃라이어</span>
                </div>
                <div class="outlier-summary-stat">
                    <span class="outlier-summary-number" id="outlierMaxScore">0x</span>
                    <span class="outlier-summary-label" data-i18n="outlier.maxScore">최고 배수</span>
                </div>
                <div class="outlier-summary-stat">
                    <span class="outlier-summary-number" id="outlierAvgScore">0x</span>
                    <span class="outlier-summary-label" data-i18n="outlier.avgScore">평균 배수</span>
                </div>
                <div class="outlier-summary-stat">
                    <span class="outlier-summary-number" id="outlierChannelCount">0</span>
                    <span class="outlier-summary-label" data-i18n="outlier.analyzedChannels">분석 채널</span>
                </div>
            </div>
            <div class="outlier-grid" id="outlierGrid">
                <div class="discover-empty">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="color:var(--text-muted);margin-bottom:12px">
                        <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
                    </svg>
                    <p data-i18n="outlier.emptyDesc">키워드를 검색하면 채널 평균 대비 폭발적으로 성과가 좋은 영상을 찾아줍니다</p>
                    <p style="font-size:12px;color:var(--text-muted);margin-top:4px" data-i18n="outlier.emptyHint">채널 중앙값 조회수 대비 N배 이상인 영상 = 아웃라이어</p>
                </div>
            </div>
        </section>

        <!-- References Tab -->
        <section class="tab-content" id="tab-references">
            <div class="ref-header">
                <span class="ref-count" id="refCount">0개의 레퍼런스</span>
                <button class="btn btn-secondary btn-sm" id="refClearAllBtn" style="display:none" data-i18n="ref.clearAll">전체 삭제</button>
            </div>
            <div class="ref-folder-bar" id="refFolderBar">
                <!-- JS에서 동적 렌더링: [전체] [미분류] [폴더1] ... [+ 새 폴더] -->
            </div>
            <div class="ref-grid" id="refGrid">
                <div class="discover-empty" id="refEmpty">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="color:var(--text-muted);margin-bottom:12px"><path d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2z"/></svg>
                    <p data-i18n="ref.emptyTitle">저장된 레퍼런스가 없습니다</p>
                    <p style="font-size:12px;color:var(--text-muted);margin-top:4px" data-i18n="ref.emptyDesc">콘텐츠 탐색에서 영상을 검색하고 레퍼런스로 저장해보세요</p>
                </div>
            </div>
        </section>

        <!-- New Content Tab (step wizard) -->
        <section class="tab-content" id="tab-newcontent">
            <div class="nc-page">
                <!-- Step indicator -->
                <div class="nc-steps">
                    <div class="nc-step active" data-step="0"><span class="nc-step-dot">1</span><span class="nc-step-label" data-i18n="nc.step.setup">아이디어 & 설정</span></div>
                    <div class="nc-step-line"></div>
                    <div class="nc-step" data-step="1"><span class="nc-step-dot">2</span><span class="nc-step-label" data-i18n="nc.step.refTitle">레퍼런스 & 제목</span></div>
                    <div class="nc-step-line"></div>
                    <div class="nc-step" data-step="2"><span class="nc-step-dot">3</span><span class="nc-step-label" data-i18n="nc.step.confirm">확인</span></div>
                </div>

                <!-- Step 0: 아이디어 & 설정 -->
                <div class="nc-step-content active" data-step-content="0">
                    <h2 class="nc-step-title" data-i18n="nc.setup.title">어떤 콘텐츠를 만드나요?</h2>
                    <p class="nc-step-desc" data-i18n="nc.setup.desc">플랫폼과 유형을 정하고 아이디어를 입력하세요</p>
                    <div class="nc-settings-section">
                        <label class="nc-settings-label" data-i18n="nc.settings.platform">플랫폼</label>
                        <div class="nc-option-grid nc-option-grid-4" id="ncPlatformGrid">
                            <label class="nc-option-card active" data-value="youtube">
                                <input type="radio" name="ncPlatform" value="youtube" checked>
                                <span class="nc-option-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22.54 6.42a2.78 2.78 0 00-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 00-1.94 2A29 29 0 001 11.75a29 29 0 00.46 5.33A2.78 2.78 0 003.4 19.1c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 001.94-2 29 29 0 00.46-5.25 29 29 0 00-.46-5.43z"/><polygon points="9.75,15.02 15.5,11.75 9.75,8.48"/></svg>
                                </span>
                                <span class="nc-option-label">YouTube</span>
                            </label>
                            <label class="nc-option-card" data-value="instagram">
                                <input type="radio" name="ncPlatform" value="instagram">
                                <span class="nc-option-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="5"/><circle cx="12" cy="12" r="5"/><circle cx="17.5" cy="6.5" r="1.5" fill="currentColor" stroke="none"/></svg>
                                </span>
                                <span class="nc-option-label">Instagram</span>
                            </label>
                            <label class="nc-option-card" data-value="tiktok">
                                <input type="radio" name="ncPlatform" value="tiktok">
                                <span class="nc-option-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 12a4 4 0 104 4V4a5 5 0 005 5"/></svg>
                                </span>
                                <span class="nc-option-label">TikTok</span>
                            </label>
                            <label class="nc-option-card" data-value="other">
                                <input type="radio" name="ncPlatform" value="other">
                                <span class="nc-option-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
                                </span>
                                <span class="nc-option-label" data-i18n="platform.other">기타</span>
                            </label>
                        </div>
                    </div>
                    <div class="nc-settings-section">
                        <label class="nc-settings-label" data-i18n="nc.settings.type">유형</label>
                        <div class="nc-option-grid nc-option-grid-2" id="ncTypeGrid">
                            <label class="nc-option-card active" data-value="long">
                                <input type="radio" name="ncType" value="long" checked>
                                <span class="nc-option-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="23,7 16,12 23,17"/><rect x="1" y="5" width="15" height="14" rx="2"/></svg>
                                </span>
                                <span class="nc-option-label" data-i18n="type.longVideo">롱폼 영상</span>
                            </label>
                            <label class="nc-option-card" data-value="short">
                                <input type="radio" name="ncType" value="short">
                                <span class="nc-option-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="7" y="2" width="10" height="20" rx="2"/><line x1="12" y1="18" x2="12" y2="18.01"/></svg>
                                </span>
                                <span class="nc-option-label" data-i18n="type.shortReels">숏츠/릴스</span>
                            </label>
                        </div>
                    </div>
                    <div class="nc-settings-section">
                        <label class="nc-settings-label">AI와 아이디어 구체화</label>
                        <div class="nc-chat-container" id="ncChatContainer">
                            <button class="nc-new-chat-btn" id="ncNewChatBtn" title="새 대화">↻ 새 대화</button>
                            <div class="nc-chat-messages" id="ncChatMessages"></div>
                            <div class="nc-chat-idea-bar" id="ncChatIdeaBar">
                                <div class="nc-chat-idea-text" id="ncChatIdeaText"></div>
                                <button class="btn btn-primary" id="ncChatIdeaConfirm">이 아이디어로 다음 단계 →</button>
                            </div>
                            <div class="nc-chat-input-bar">
                                <textarea class="nc-chat-input" id="ncChatInput" placeholder="어떤 영상을 만들어 볼까요?" rows="1"></textarea>
                                <button class="nc-chat-send" id="ncChatSend" title="전송">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22,2 15,22 11,13 2,9"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="nc-settings-section">
                        <label class="nc-settings-label" data-i18n="nc.settings.uploadDate">업로드 예정일</label>
                        <input type="date" id="ncDate" class="nc-step-input">
                    </div>
                </div>

                <!-- Step 1: 레퍼런스 & 제목 -->
                <div class="nc-step-content" data-step-content="1">
                    <h2 class="nc-step-title" data-i18n="nc.reftitle.title">레퍼런스를 참고해서 제목을 정하세요</h2>
                    <p class="nc-step-desc" data-i18n="nc.reftitle.desc">인기 영상을 찾아보고 매력적인 제목을 완성하세요</p>
                    <!-- 제목 입력 (상단 고정) -->
                    <div class="nc-settings-section">
                        <label class="nc-settings-label" data-i18n="nc.title.title">제목</label>
                        <input type="text" id="ncTitle" class="nc-step-input" placeholder="제목을 입력하세요" data-i18n-placeholder="nc.title.placeholder">
                    </div>
                </div>

                <!-- Step 2: 확인 -->
                <div class="nc-step-content" data-step-content="2">
                    <h2 class="nc-step-title" data-i18n="nc.confirm.title">내용을 확인하고 저장하세요</h2>
                    <p class="nc-step-desc" data-i18n="nc.confirm.desc">메모를 남기고 콘텐츠를 시작하세요</p>
                    <textarea id="ncMemo" class="nc-step-textarea" rows="3" placeholder="예: 야외 촬영, 소품 준비 필요" data-i18n-placeholder="nc.memo.placeholder"></textarea>
                    <div class="nc-review-card" id="ncReviewCard">
                        <div class="nc-review-row"><span class="nc-review-label" data-i18n="nc.review.titleLabel">제목</span><strong id="ncReviewTitle">-</strong></div>
                        <div class="nc-review-row"><span class="nc-review-label" data-i18n="nc.settings.platform">플랫폼</span><span id="ncReviewPlatform">-</span></div>
                        <div class="nc-review-row"><span class="nc-review-label" data-i18n="nc.settings.type">유형</span><span id="ncReviewType">-</span></div>
                        <div class="nc-review-row"><span class="nc-review-label" data-i18n="nc.settings.uploadDate">업로드 예정일</span><span id="ncReviewDate">-</span></div>
                    </div>
                </div>

                <!-- Nav buttons -->
                <div class="nc-nav">
                    <button class="btn btn-secondary" id="ncPrevBtn" data-i18n="nc.nav.prev">이전</button>
                    <button class="btn btn-primary" id="ncNextBtn" data-i18n="nc.nav.next">다음</button>
                </div>
            </div>
        </section>

    </main>

    <!-- Modal: Content (with tabs for info + script) -->
    <div class="modal-overlay" id="contentModal">
        <div class="modal modal-large">
            <div class="modal-header">
                <h3 id="contentModalTitle">콘텐츠 추가</h3>
                <button class="modal-close" id="closeContentModal">&times;</button>
            </div>
            <div class="modal-tabs">
                <button class="modal-tab active" data-modal-tab="info" data-i18n="modal.tabInfo">기본 정보</button>
                <button class="modal-tab" data-modal-tab="script" data-i18n="modal.tabScript">스크립트</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="contentId">

                <!-- Tab: 기본 정보 -->
                <div class="modal-tab-panel active" data-modal-panel="info">
                    <div class="form-group">
                        <label data-i18n="modal.title">제목</label>
                        <input type="text" id="contentTitle" placeholder="콘텐츠 제목을 입력하세요" data-i18n-placeholder="modal.titlePlaceholder">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label data-i18n="modal.platform">플랫폼</label>
                            <select id="contentPlatform">
                                <option value="youtube">YouTube</option>
                                <option value="instagram">Instagram</option>
                                <option value="tiktok">TikTok</option>
                                <option value="other" data-i18n="platform.other">기타</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label data-i18n="modal.status">상태</label>
                            <select id="contentStatus">
                                <option value="idea" data-i18n="status.idea">아이디어</option>
                                <option value="scripting" data-i18n="status.scripting">스크립트 작성중</option>
                                <option value="filming" data-i18n="status.filming">촬영중</option>
                                <option value="editing" data-i18n="status.editing">편집중</option>
                                <option value="scheduled" data-i18n="status.scheduled">예약됨</option>
                                <option value="published" data-i18n="status.published">게시완료</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label data-i18n="modal.uploadDate">업로드 예정일</label>
                            <input type="date" id="contentDate">
                        </div>
                        <div class="form-group">
                            <label data-i18n="modal.contentType">유형</label>
                            <select id="contentType">
                                <option value="long" data-i18n="type.longVideo">롱폼 영상</option>
                                <option value="short" data-i18n="type.shortReels">숏츠/릴스</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label data-i18n="modal.memo">메모</label>
                        <textarea id="contentMemo" placeholder="메모를 입력하세요" rows="2" data-i18n-placeholder="modal.memoPlaceholder"></textarea>
                    </div>

                    <!-- Thumbnail concept (read-only summary) -->
                    <div class="form-group" id="contentThumbSection" style="display:none">
                        <label data-i18n="modal.thumbnailPlan">썸네일 기획</label>
                        <div class="content-thumb-summary" id="contentThumbSummary"></div>
                    </div>

                    <!-- Upload Checklist -->
                    <div class="form-group">
                        <label data-i18n="modal.uploadChecklist">업로드 체크리스트</label>
                        <div class="checklist" id="uploadChecklist">
                            <label class="checklist-item"><input type="checkbox" data-key="thumbnail"><span data-i18n="modal.checkThumbnail">썸네일 제작</span></label>
                            <label class="checklist-item"><input type="checkbox" data-key="title_final"><span data-i18n="modal.checkTitleFinal">제목 확정</span></label>
                            <label class="checklist-item"><input type="checkbox" data-key="description"><span data-i18n="modal.checkDescription">설명/해시태그 작성</span></label>
                            <label class="checklist-item"><input type="checkbox" data-key="tags"><span data-i18n="modal.checkTags">태그 설정</span></label>
                            <label class="checklist-item"><input type="checkbox" data-key="subtitle"><span data-i18n="modal.checkSubtitle">자막 추가</span></label>
                            <label class="checklist-item"><input type="checkbox" data-key="endscreen"><span data-i18n="modal.checkEndscreen">엔드스크린/카드</span></label>
                            <label class="checklist-item"><input type="checkbox" data-key="scheduled_time"><span data-i18n="modal.checkScheduled">예약 시간 설정</span></label>
                        </div>
                        <div class="checklist-progress">
                            <div class="checklist-progress-bar"><div class="checklist-progress-fill" id="checklistProgress"></div></div>
                            <span class="checklist-progress-text" id="checklistText">0/7</span>
                        </div>
                    </div>
                </div>

                <!-- Tab: 스크립트 -->
                <div class="modal-tab-panel" data-modal-panel="script">
                    <div class="form-group">
                        <label data-i18n="modal.scriptStatus">스크립트 상태</label>
                        <select id="contentScriptStatus">
                            <option value="" data-i18n="scriptStatus.none">미작성</option>
                            <option value="draft" data-i18n="scriptStatus.draft">초안</option>
                            <option value="writing" data-i18n="scriptStatus.writing">작성중</option>
                            <option value="done" data-i18n="scriptStatus.done">완료</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-i18n="modal.scriptContent">스크립트 내용</label>
                        <div class="editor-toolbar" id="contentEditorToolbar">
                            <button class="toolbar-btn" data-action="hook" title="훅 (첫 5초)" data-i18n="toolbar.hook">훅</button>
                            <button class="toolbar-btn" data-action="heading" title="섹션 제목">H</button>
                            <button class="toolbar-btn" data-action="bold" title="굵게">B</button>
                            <button class="toolbar-btn" data-action="scene" title="장면 구분" data-i18n="toolbar.scene">장면</button>
                            <button class="toolbar-btn" data-action="note" title="연출 노트" data-i18n="toolbar.note">[노트]</button>
                            <button class="toolbar-btn" data-action="cta" title="CTA">CTA</button>
                            <span class="word-count" id="wordCount">0자</span>
                        </div>
                        <textarea id="contentScriptContent" placeholder="스크립트를 작성하세요...

## 훅 (첫 5초)
시청자를 사로잡는 첫 마디...

## 인트로
안녕하세요, 오늘은 ...

## 본문
[장면: 화면 전환]
핵심 포인트는...

## CTA
좋아요와 구독 부탁드립니다!

## 아웃트로
다음 영상에서 만나요!" rows="18"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="deleteContentBtn" style="display:none" data-i18n="modal.delete">삭제</button>
                <button class="btn btn-primary" id="saveContentBtn" data-i18n="modal.save">저장</button>
            </div>
        </div>
    </div>

    <!-- Modal: My Page -->
    <div class="modal-overlay" id="myPageModal">
        <div class="modal">
            <div class="modal-header">
                <h3 data-i18n="mypage.title">마이페이지</h3>
                <button class="modal-close" id="closeMyPageModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="mypage-profile">
                    <img class="mypage-avatar" id="mypageAvatar" src="" alt="">
                    <div class="mypage-info">
                        <span class="mypage-name" id="mypageName"></span>
                        <span class="mypage-email" id="mypageEmail"></span>
                    </div>
                </div>
                <div class="mypage-section">
                    <div class="mypage-row">
                        <span class="mypage-label" data-i18n="mypage.loginMethod">로그인 방법</span>
                        <span class="mypage-value">Google</span>
                    </div>
                    <div class="mypage-row">
                        <span class="mypage-label" data-i18n="mypage.contentCount">콘텐츠 수</span>
                        <span class="mypage-value" id="mypageContentCount">0</span>
                    </div>
                    <div class="mypage-row">
                        <span class="mypage-label" data-i18n="mypage.publishedCount">게시 완료</span>
                        <span class="mypage-value" id="mypagePublishedCount">0</span>
                    </div>
                    <div class="mypage-row">
                        <span class="mypage-label" data-i18n="mypage.scriptCount">스크립트 작성</span>
                        <span class="mypage-value" id="mypageScriptCount">0</span>
                    </div>
                    <div class="mypage-row">
                        <span class="mypage-label" data-i18n="mypage.language">언어</span>
                        <div class="lang-switcher" id="langSwitcher">
                            <button class="lang-btn active" data-lang="ko">한국어</button>
                            <button class="lang-btn" data-lang="en">English</button>
                        </div>
                    </div>
                </div>
                <div class="mypage-usage-section" id="mypageUsageSection">
                    <h4 class="mypage-usage-title" data-i18n="mypage.apiUsage">API 사용량 (오늘)</h4>
                    <div class="mypage-usage-bar-wrap">
                        <div class="mypage-usage-bar">
                            <div class="mypage-usage-bar-fill" id="mypageUsageFill"></div>
                        </div>
                        <span class="mypage-usage-text" id="mypageUsageText">로딩 중...</span>
                    </div>
                    <div class="mypage-usage-detail" id="mypageUsageDetail"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="mypageLogoutBtn" data-i18n="mypage.logout">로그아웃</button>
            </div>
        </div>
    </div>

    <!-- Confirm Dialog -->
    <div class="confirm-overlay" id="confirmDialog">
        <div class="confirm-box">
            <p class="confirm-message" data-i18n="confirm.message">변경사항을 저장하지 않고 나가시겠습니까?</p>
            <div class="confirm-actions">
                <button class="btn btn-secondary" id="confirmDiscard" data-i18n="confirm.discard">저장 안 함</button>
                <button class="btn btn-primary" id="confirmSave" data-i18n="confirm.save">저장</button>
            </div>
        </div>
    </div>

    <!-- Modal: Search -->
    <!-- searchModal removed: form is now inline on the discover tab -->

    <!-- Modal: Channel Search -->

    <!-- Modal: Ref Folder Select -->
    <div class="modal-overlay" id="refFolderModal">
        <div class="modal" style="width:400px">
            <div class="modal-header">
                <h3 data-i18n="ref.folderSelect">폴더 선택</h3>
                <button class="modal-close" id="closeRefFolderModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="ref-folder-list" id="refFolderList">
                    <!-- 미분류 + 사용자 폴더 목록 (JS 동적) -->
                </div>
                <div class="ref-folder-create-row">
                    <input type="text" id="refFolderNewName" placeholder="새 폴더 이름" maxlength="30" data-i18n-placeholder="ref.folderNewName">
                    <button class="btn btn-secondary btn-sm" id="refFolderCreateBtn" data-i18n="ref.folderAdd">추가</button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="refFolderModalCancel" data-i18n="ref.folderCancel">취소</button>
                <button class="btn btn-primary" id="refFolderModalSave" data-i18n="ref.folderSave">저장</button>
            </div>
        </div>
    </div>

    <!-- Folder Context Menu -->
    <div class="ref-folder-ctx" id="refFolderCtx" style="display:none">
        <div class="ref-folder-ctx-item" data-action="rename" data-i18n="ref.folderRename">이름 변경</div>
        <div class="ref-folder-ctx-item danger" data-action="delete" data-i18n="ref.folderDelete">삭제</div>
    </div>

    <!-- Modal: Goal Settings -->
    <div class="modal-overlay" id="goalModal">
        <div class="modal goal-modal">
            <div class="modal-header">
                <h3 data-i18n="goal.title">목표 설정</h3>
                <button class="modal-close" id="closeGoalModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="goal-field">
                    <label class="goal-field-label" data-i18n="goal.monthlyLabel">월간 업로드 목표</label>
                    <input type="number" id="goalMonthlyInput" class="goal-field-input" min="1" max="100" value="4">
                    <span class="goal-current" id="goalMonthlyCurrent">이번 달 0편 업로드</span>
                </div>
                <div class="goal-field">
                    <label class="goal-field-label" data-i18n="goal.weeklyLabel">주간 업로드 목표</label>
                    <input type="number" id="goalWeeklyInput" class="goal-field-input" min="1" max="30" value="1">
                    <span class="goal-current" id="goalWeeklyCurrent">이번 주 0편 업로드</span>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="saveGoalBtn" data-i18n="goal.save">저장</button>
            </div>
        </div>
    </div>

    <!-- Channel Detail Modal -->
    <div class="modal-overlay" id="channelDetailModal">
        <div class="modal" style="width:720px;max-height:85vh">
            <div class="modal-header">
                <h3 id="channelDetailTitle">채널 상세</h3>
                <button class="modal-close" id="closeChannelDetailModal">&times;</button>
            </div>
            <div class="modal-body" style="overflow-y:auto;max-height:calc(85vh - 120px);padding:0">
                <div class="ch-detail-header" id="channelDetailHeader"></div>
                <div class="ch-detail-sort">
                    <button class="ch-sort-btn active" data-sort="date">최신순</button>
                    <button class="ch-sort-btn" data-sort="views">조회수순</button>
                    <button class="ch-sort-btn" data-sort="likes">좋아요순</button>
                </div>
                <div class="ch-detail-videos" id="channelDetailVideos"></div>
            </div>
        </div>
    </div>

    <!-- Channel Compare Modal -->
    <div class="modal-overlay" id="channelCompareModal">
        <div class="modal" style="width:800px">
            <div class="modal-header">
                <h3>채널 비교</h3>
                <button class="modal-close" id="closeChannelCompareModal">&times;</button>
            </div>
            <div class="modal-body" style="overflow-x:auto">
                <table class="ch-compare-table" id="channelCompareTable"></table>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "vlekaz48di");
    </script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-89R1E7T2BG"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-89R1E7T2BG');
    </script>

    <script src="i18n.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
